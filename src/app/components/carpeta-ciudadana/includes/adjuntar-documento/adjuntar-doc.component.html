<app-header-carpeta-ciudadana *ngIf="procedure" [procedure]="procedure"></app-header-carpeta-ciudadana>
<app-spinner *ngIf="!procedure"></app-spinner>
<div *ngIf="procedure">
<app-button-back></app-button-back>
<div class="card mx-4">
  <div class="card-header background-card-header pb-0">
    <div class="card-title text-white">
      <em class="far fa-file mr-2"></em>
      <label>{{ 'carpeta_ciudadana.instance.docAdd' | translate }}</label>
    </div>
  </div>

  <!-- GENERICS -->
  <app-input-document 
    label="{{ 'carpeta_ciudadana.documentation.generic.dni' | translate }}" 
    idValue="documentNif" [isRequired]="requi"
    errorText="document_error" [error]="validate && documentNif"
    fileExtension=",.doc,.docx,.msword,.pdf,.xlsx" (uploadFileDocument)="saveDocument($event)"
    (deleteFileDocument)="deleteDocument($event)">
  </app-input-document>

  <app-input-document 
    label="{{ 'carpeta_ciudadana.documentation.generic.help' | translate }}" idValue="documentHelp" [isRequired]="requi"
    [idPlantilla]="true" errorText="document_error" [error]="validate && documentHelp"
    fileExtension=",.doc,.docx,.msword,.pdf,.xlsx" (uploadFileDocument)="saveDocument($event)"
    (deleteFileDocument)="deleteDocument($event)">
  </app-input-document>

  <app-input-document 
    label="{{ 'carpeta_ciudadana.documentation.generic.responsible_declaration' | translate }}"
    idValue="responsible_declaration" [idPlantilla]="true" [isRequired]="true" errorText="document_error"
    [error]="validate && responsible_declaration"
    fileExtension=",.doc,.docx,.msword,.pdf,.xlsx" (uploadFileDocument)="saveDocument($event)"
    (deleteFileDocument)="deleteDocument($event)">
  </app-input-document>

  <app-input-document 
    label="{{ 'carpeta_ciudadana.documentation.generic.model_303' | translate }}" idValue="model_303"
    [isRequired]="true" errorText="document_error" [error]="validate && model_303"
    fileExtension=",.doc,.docx,.msword,.pdf,.xlsx" (uploadFileDocument)="saveDocument($event)"
    (deleteFileDocument)="deleteDocument($event)">
  </app-input-document>

  <app-input-document 
    label="{{ 'carpeta_ciudadana.documentation.generic.distribution_by_year' | translate }}"
    idValue="distribution_by_year" [idPlantilla]="true" [isRequired]="true" errorText="document_error"
    [error]="validate && distribution_by_year"
    fileExtension=",.doc,.docx,.msword,.pdf,.xlsx" (uploadFileDocument)="saveDocument($event)"
    (deleteFileDocument)="deleteDocument($event)">
  </app-input-document>

  <app-autonoms *ngIf="tipo_empresa === 'autonomo'" [fileListAu]="fileList" [validate]="validate"></app-autonoms>
  <app-comunidadBienes *ngIf="tipo_empresa === 'comunidad_bienes'" [fileListCo]="fileList" [validate]="validate"></app-comunidadBienes>
  <app-gran-empresa *ngIf="tipo_empresa === 'big_bussines'" [fileListGr]="fileList" [validate]="validate"></app-gran-empresa>
  <app-micro-empresa *ngIf="tipo_empresa === 'micro_empresa'" [fileListMi]="fileList" [validate]="validate"></app-micro-empresa>
  <app-pyme *ngIf="tipo_empresa === 'PYME'" [fileListPy]="fileList" [validate]="validate"></app-pyme>
  <app-sociedad-civil *ngIf="tipo_empresa === 'sociedad_civil'" [fileListSo]="fileList" [validate]="validate"></app-sociedad-civil>

  <div class="text-right px-3 py-3">
    <button class="btn-app-primary mr-2" (click)="goToRequestInfo()">{{ 'buttons.continue' | translate}}</button>
  </div>
</div>
</div>