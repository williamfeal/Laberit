<div class="mx-3 my-3 card">
    <div class="card-header background-card-header">
        <div class="card-title text-white">
            <em class="fas fa-info-circle"> </em>
            {{ 'carpeta_ciudadana.request_info.financing.title' | translate }}
        </div>
    </div>
    <div class="card-body">
        <div class="form-group">
            <app-input-text-area [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                label="{{ 'carpeta_ciudadana.request_info.procedure_info.project_definition' | translate }}"
                controlName="project_definition" idValue="project_definition" nameValue="project_definition"
                [error]="validate && formLineaResistir.controls['project_definition']?.invalid" errorText="empty_error"
                [isRequired]="true" placeholder="{{ 'carpeta_ciudadana.placeholder.input' | translate }}" >
            </app-input-text-area>
        </div>
        <div class="form-group">
            <app-input-select [form]="formLineaResistir" (change)="capturarCampo($event.target.value, 'project_type')"
                placeholder="{{ 'carpeta_ciudadana.placeholder.select' | translate }}"
                label="{{ 'carpeta_ciudadana.request_info.procedure_info.project_type' | translate }}"
                [error]="validate && formLineaResistir.controls['project_type']?.invalid" class="col-sm-3"
                controlName="project_type" idValue="project_type" nameValue="project_type" isReadOnly="false"
                [isRequired]="true" [fieldOptions]="actuation" errorText="empty_error"
                [draft]="draftDetailCostFinanced">
            </app-input-select>
        </div>
        <!-- Inversion G1 -->
        <div [ngClass]="{ 'd-none': showInversion == false }">
            <span class="ml-3">
                <strong>{{ 'carpeta_ciudadana.request_info.financing.investment.title' | translate }}</strong>
            </span>
            <div class="row justify-content-start mx-0">
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir"
                        label="{{ 'carpeta_ciudadana.request_info.financing.investment.ground' | translate }}"
                        [error]="validate && formLineaResistir.controls['g1terrenos']?.invalid"
                        controlName="g1terrenos" idValue="g1terrenos" nameValue="g1terrenos" [isRequired]="showInversion"
                         [draft]="draftDetailCostFinanced" errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir"
                        label="{{ 'carpeta_ciudadana.request_info.financing.investment.properties' | translate }}"
                        controlName="g1inmuebles" idValue="g1inmuebles" nameValue="g1inmuebles" [draft]="draftDetailCostFinanced"
                        [error]="validate && formLineaResistir.controls['g1inmuebles']?.pristine"
                        [isRequired]="showInversion"  errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir"
                        label="{{ 'carpeta_ciudadana.request_info.financing.investment.machinery' | translate }}"
                        [error]="validate && formLineaResistir.controls['g1maquinaria']?.invalid" [draft]="draftDetailCostFinanced"
                        controlName="g1maquinaria" idValue="g1maquinaria" nameValue="g1maquinaria" [isRequired]="showInversion"
                         errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.investment.installation' | translate }}"
                        [error]="validate && formLineaResistir.controls['g1instalaciones']?.invalid"
                        controlName="g1instalaciones" idValue="g1instalaciones" nameValue="g1instalaciones" [draft]="draftDetailCostFinanced"
                        [isRequired]="showInversion"  errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.investment.others' | translate }}"
                        [error]="validate && formLineaResistir.controls['g1otros']?.invalid"
                        controlName="g1otros" idValue="g1otros" nameValue="g1otros" [isRequired]="showInversion" 
                        errorText="empty_error"></app-input-number>
                </div>
            </div>
            <hr>
            <span class="ml-3">
                <strong>{{ 'carpeta_ciudadana.request_info.financing.financing_fixed.title' | translate }}</strong>
            </span>
            <div class="row justify-content-start mx-0">
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_fixed.own_resources' | translate }}"
                        controlName="recursosPropios" idValue="recursosPropios" nameValue="recursosPropios"
                        [error]="validate && formLineaResistir.controls['recursosPropios']?.invalid"
                        [isRequired]="showInversion"  errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_fixed.grants' | translate }}"
                        [error]="validate && formLineaResistir.controls['subvenciones']?.invalid"
                        controlName="subvenciones" idValue="subvenciones" nameValue="subvenciones" [isRequired]="showInversion" 
                        errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_fixed.other_bank_financing' | translate }}"
                        [error]="validate && formLineaResistir.controls['otraFinBancaria']?.invalid"
                        controlName="otraFinBancaria" idValue="otraFinBancaria"
                        nameValue="otraFinBancaria" [isRequired]="showInversion"  errorText="empty_error">
                    </app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_fixed.active_ivf' | translate }}"
                        [error]="validate && formLineaResistir.controls['activoIVF']?.invalid"
                        controlName="activoIVF" idValue="activoIVF" nameValue="activoIVF"
                        [isRequired]="showInversion"  errorText="empty_error"></app-input-number>
                </div>
            </div>
        </div>
        <!-- circulante G2-->
        <div [ngClass]="{ 'd-none': showCirculante == false }">
            <hr>
            <div class="row col-sm-12">
                <span class="ml-3">
                    <strong>{{ 'carpeta_ciudadana.request_info.financing.financing_assets.title' | translate
                        }}</strong>
                </span>
                <span class="m-3">
                    {{ 'carpeta_ciudadana.linea_resistir_instance.text_1' | translate }}
                </span>
            </div>
            <div class="row justify-content-start mx-0">
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_assets.current_assets' | translate }}"
                        [error]="validate && formLineaResistir.controls['g2importeFinanciarCirculante']?.invalid"
                        controlName="g2importeFinanciarCirculante" idValue="g2importeFinanciarCirculante" nameValue="g2importeFinanciarCirculante"
                        [isRequired]="showCirculante"  errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_assets.bankalbe_current_assets' | translate }}"
                        [error]="validate && formLineaResistir.controls['g2financiacionIVF']?.invalid"
                        controlName="g2financiacionIVF" idValue="g2financiacionIVF"
                        nameValue="g2financiacionIVF" [isRequired]="showCirculante" 
                        errorText="empty_error"></app-input-number>
                </div>
            </div>
        </div>
        <!-- Financiaciï¿½n solicitada G3-->
        <hr>
        <div [ngClass]="{ 'd-none': project_type != 'linea-resistir-project-type-G3-investment-and-circulating' }">
            <div class="row col-sm-12">
                <span class="ml-3">
                    <strong>{{ 'carpeta_ciudadana.request_info.financing.financing_requested.title' | translate
                        }}</strong>
                </span>
            </div>
            <div class="row justify-content-start mx-0">
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_requested.g1' | translate }}"
                        [error]="validate && formLineaResistir.controls['g3inversionActivosFijos']?.invalid"
                        controlName="g3inversionActivosFijos" idValue="g3inversionActivosFijos" nameValue="g3inversionActivosFijos"
                        [isRequired]="showInversion && showCirculante" errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced" 
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_requested.g2' | translate }}"
                        [error]="validate && formLineaResistir.controls['g3inversionActivoCirculante']?.invalid"
                        controlName="g3inversionActivoCirculante" idValue="g3inversionActivoCirculante"
                        nameValue="g3inversionActivoCirculante" [isRequired]="showInversion && showCirculante"
                        errorText="empty_error"></app-input-number>
                </div>
                <div class="form-group col-md-3">
                    <app-input-number [form]="formLineaResistir" [draft]="draftDetailCostFinanced"
                        label="{{ 'carpeta_ciudadana.request_info.financing.financing_requested.total_loan' | translate }}"
                        [error]="validate && formLineaResistir.controls['g3totalPrestamo']?.invalid"
                        controlName="g3totalPrestamo" idValue="g3totalPrestamo"
                        nameValue="g3totalPrestamo" [isRequired]="showInversion && showCirculante" 
                        errorText="empty_error"></app-input-number>
                </div>
            </div>
        </div>
    </div>
</div>