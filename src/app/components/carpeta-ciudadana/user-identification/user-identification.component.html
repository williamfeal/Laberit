<app-header-carpeta-ciudadana></app-header-carpeta-ciudadana>
<app-button-back></app-button-back>
<form [formGroup]="formUserIdentification" (ngSubmit)="goToRequestInfo()">
    <div class="row mx-0 mt-2">
        <div class="col-md-6">
            <app-identity-data [readOnly]="true" [user]="user"
                [formIdentityData]="formUserIdentification.controls.identity_data"></app-identity-data>
        </div>
        <div class="col-md-6">
            <app-notification-means [readOnly]="false"
                [formNotificationMeans]="formUserIdentification.controls.notification_means" [emailError]="emailError"
                [emailErrorText]="emailErrorText" [notificationError]="notificationError"
                [notificationErrorText]="notificationErrorText"></app-notification-means>
        </div>
        <div class="col-md-12">
            <app-requester-data (typeOutput)="onChangeTypeRequester($event)"></app-requester-data>
        </div>
    </div>

    <!-- <div class="row mx-0">
        <div class="col-md-12 mt-2" *ngIf="isRepresentative() || isUserAutonomo()">
            <app-actuation-data [formActuationData]="formUserIdentification.controls.actuation_data" [readOnly]="false">
            </app-actuation-data>
        </div>
    </div> -->
    <div class="row mx-0">
        <div class="col-md-12 mt-2" *ngIf="isRepresentative()">
            <app-representative-data  [validate]="validate" [formRepresentativeData]="formUserIdentification.controls.representative_data"
                [readOnly]="false"></app-representative-data>
        </div>
        <div class="col-md-12 mt-2" *ngIf="!isRepresentative()">
            <app-interested-data [validate]="validate" [formInterestedData]="formUserIdentification.controls.interested_data"
                [readOnly]="false"></app-interested-data>
        </div>
    </div>
    <div class="row mx-0">
        <div class="col-md-12 mt-2">
            <app-social-address [validate]="validate" [formSocialAdress]="formUserIdentification.controls.sosial_address"></app-social-address>
        </div>
    </div>
    <div class="row mx-0">
        <div class="col-md-12 mt-2">
            <app-productive-establishment-address
                [validate]="validate" [formProductiveEstablishment]="formUserIdentification.controls.productive_establishment"
                [readOnly]="false"></app-productive-establishment-address>
        </div>
    </div>
    <div class="row mx-0">
        <div class="col-md-12 mt-2" *ngIf="!isInteresado()">
            <app-legal-representative [validate]="validate" [formLegalRepresentative]="formUserIdentification.controls.legal_representative"
                [readOnly]="false"></app-legal-representative>
        </div>
    </div>
    <div class="row mx-0">
        <div class="col-md-12 mt-2" >
            <app-contact-data [validate]="validate" [formContactData]="formUserIdentification.controls.contact_data" [interesado]="isInteresado()" [readOnly]="false">
            </app-contact-data>
        </div>
    </div>
    <br>
    <div class="text-right px-3">
        <button class="btn-app-primary mr-2" type="submit">{{ 'buttons.continue' | translate}}</button>
    </div>
</form>